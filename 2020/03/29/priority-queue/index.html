<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Introduction of priority queue. Without code.">
<meta property="og:type" content="article">
<meta property="og:title" content="Data Structure: Priority Queue">
<meta property="og:url" content="http://yoursite.com/2020/03/29/priority-queue/index.html">
<meta property="og:site_name" content="Hello">
<meta property="og:description" content="Introduction of priority queue. Without code.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-03-29T07:01:06.000Z">
<meta property="article:modified_time" content="2020-03-29T07:39:14.349Z">
<meta property="article:author" content="Wedon">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2020/03/29/priority-queue/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>Data Structure: Priority Queue | Hello</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hello</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/29/priority-queue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wedon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Data Structure: Priority Queue
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-29 15:01 / Modified: 15:39" itemprop="dateCreated datePublished" datetime="2020-03-29T15:01:06+08:00">2020-03-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Introduction of priority queue. Without code.</p>
<a id="more"></a>
<h2 id="introduction">Introduction</h2>
<p>Priority Queue is a special kind of container. You can insert some elements into the queue. When you pop one element from the queue, you always get the maximum or the minimum of the data that you have saved.</p>
<h2 id="data-structure">Data Structure</h2>
<p>In our examples, we use a maximum priority queue, which means we get the maximum when we pop one element.</p>
<p>We can use a binary tree to implement the priority queue:</p>
<ul>
<li>In the root node, it store the maximum value of the queue.</li>
<li>Every value of the node is less than its parent node.</li>
<li>We use a complete binary tree to store the queue. (Complete binary tree is a binary tree which doesn't meet null node when you do level-order traversal.)</li>
<li>If we want to pop the maximum, we remove the root node, and reconstruct the binary tree to satisfy the properties.</li>
<li>If we want to push one element, we find a suitable position for this new node, then we reconstruct the tree.</li>
</ul>
<p>One example of the priority queue (with level order traversal):</p>
<ul>
<li>1st level: 19</li>
<li>2nd level: 14, 16</li>
<li>3rd level: 9, 7, 8, null</li>
</ul>
<h2 id="push">Push</h2>
<p>Now we have a new value <code>x</code>, how to push it into the priority queue without the change of structure?</p>
<p>We should keep these two properties:</p>
<ul>
<li>(1) Tree is always complete.</li>
<li>(2) Every node is compared only with its parent and children.</li>
</ul>
<p>If we save the new value at the bottom, we can keep property (1). Then we let this node bubble up until it finds the right place to keep property (2). If its parent is less than it, than swap two nodes. Another child is unaffected because the origin parent must be larger than it. Repeat this process until the node is less than its new parent.</p>
<p>If the tree is a complete binary tree and we add the new value at the last position of this tree (to keep tree complete again), the bubble-up operation has the time complexity <span class="math inline">\(O(\log n)\)</span>.</p>
<h2 id="pop">Pop</h2>
<p>Pop the root node from the priority queue.</p>
<p>Just like pushing, we should keep these two properties:</p>
<ul>
<li>(1) Tree is always complete.</li>
<li>(2) Every node is compared only with its parent and children.</li>
</ul>
<p>Thus, we can use the last node to replace the root node, which keeps property (1). Then to keep property (2), we need to set the current root node into the right place. Because the bubble-down operation don't change the number of nodes, so property (1) is always satisfied.</p>
<p>In the bubble-down operation, firstly we find the maximum child of the current node. If the child is greater than the node, we swap these two nodes. Another child is unaffected because we swap the maximum child with the current node, and the new parent must be greater than its new children. Repeat this process until the node is greater than all its children.</p>
<p>The bubble-down operation has the time complexity <span class="math inline">\(O(\log n)\)</span> because it's a complete binary tree.</p>
<h2 id="use-a-sequence-rather-than-tree">Use a sequence rather than tree</h2>
<p>We can use a linear sequence to represent the complete binary tree, which has these advantages:</p>
<ul>
<li>The parent and children for one node can be found quickly.</li>
<li>Insert one node at the bottom quickly.</li>
</ul>
<p>For convenience in computation, we ignore the 0-th index in the sequence. Use level order traversal to store the nodes.</p>
<p>Here is an example. For the tree:</p>
<ul>
<li>1st level: 19</li>
<li>2nd level: 14, 16</li>
<li>3rd level: 9, 7, 8, null</li>
</ul>
<p>Its sequence: <code>{X, 19, 14, 16, 9, 7, 8}</code>.</p>
<p>For a node with index <code>i</code>:</p>
<ul>
<li>parent: <code>i / 2</code>, which returns a integer rather than a float number;</li>
<li>left child: <code>i * 2</code>;</li>
<li>right child: <code>i * 2 + 1</code>.</li>
<li>null node: <code>i &lt; 1 || i &gt; sequence.size()</code></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/13/Build-Hexo/" rel="prev" title="搭建Hexo博客框架">
      <i class="fa fa-chevron-left"></i> 搭建Hexo博客框架
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#data-structure"><span class="nav-number">2.</span> <span class="nav-text">Data Structure</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#push"><span class="nav-number">3.</span> <span class="nav-text">Push</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pop"><span class="nav-number">4.</span> <span class="nav-text">Pop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#use-a-sequence-rather-than-tree"><span class="nav-number">5.</span> <span class="nav-text">Use a sequence rather than tree</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Wedon</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wedonsjtu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wedonsjtu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wedon</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
